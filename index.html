<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!-- Consider adding a manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <!-- Use the .htaccess and remove these lines to avoid edge case issues.
       More info: h5bp.com/b/378 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title></title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->

  <link href="css/less/bootstrap.less" type="text/css" rel="stylesheet/less">
  <link href='http://fonts.googleapis.com/css?family=Droid+Sans:700' rel='stylesheet' type='text/css'>
  
  <!-- More ideas for your <head> here: h5bp.com/d/head-Tips -->

  <!-- All JavaScript at the bottom, except this Modernizr build incl. Respond.js
       Respond is a polyfill for min/max-width media queries. Modernizr enables HTML5 elements & feature detects; 
       for optimal performance, create your own custom Modernizr build: www.modernizr.com/download/ -->
  <script src="js/libs/modernizr-2.0.6.min.js"></script>
</head>

<body>
	<div class="topbar">
  	<div class="topbar-inner">
      <div class="container-fluid">
        <a class="brand" href="#">Phated@Github</a>
        <ul class="nav">
          <li class="active"><a href="#">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
        <p class="pull-right">Logged in as <a href="#">username</a></p>
      </div>
    </div>
  </div>

  <div class="container-fluid">
    <div class="content">
      <!-- Main hero unit for a primary marketing message or call to action -->
      <header class="hero-unit"></header>
      <div class="row row1">
      	<div class="span8 column1"></div>
      	<div class="span4 column2"></div>
      	<div class="span4 column3"></div>
      </div>
      <footer>
        <p>&copy; Company 2011</p>
      </footer>
    </div>
    <div class="sidebar"></div>
  </div>

  <!-- JavaScript at the bottom for fast page loading -->

  <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.3/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.6.3.min.js"><\/script>')</script>


  <!-- scripts concatenated and minified via build script -->
  <script defer src="js/plugins.js"></script>
  <script defer src="js/script.js"></script>
  <script src="js/libs/less-1.1.3.min.js"></script>
  <script src="js/libs/jsonselect.min.js"></script>
  <script src="js/libs/handlebars.1.0.0.beta.3.js"></script>
  <script src="js/libs/bootstrap-twipsy.js"></script>
  <script src="js/libs/bootstrap-popover.js"></script>
  <!-- end scripts -->
  
  <script>
  	$(document).ready(function(){
  		Handlebars.registerHelper('safeString', function(value) {
			  return new Handlebars.SafeString(value);
			});
  		
  		Handlebars.registerHelper('school', function(value) {
  			if(value.type === "school") {
  				var source   = $("#school-template").html();
        	var template = Handlebars.compile(source);
        	var html     = template(value);
        	return new Handlebars.SafeString(value);
  			} else {
  				return false;
  			}
			});
  		
  		Handlebars.registerHelper('work', function(value) {
			  return new Handlebars.SafeString(value);
			});
  		
  		$.get('https://www.googleapis.com/plus/v1/people/102147307918874735077?key=AIzaSyB14Ua7k5_wusxHTQEH3sqmglO7MHjHPCI&alt=json', function(data){
  			var source   = $("#header-template").html();
        var template = Handlebars.compile(source);
        var html     = template(data);
        $("header.hero-unit").append(html);

  			var source   = $("#sidebar-template").html();
        var template = Handlebars.compile(source);
        var html     = template(data);
        $(".sidebar").append(html);
  			
  			/*$(".profileImage").html("<a href=\"" + data.image.url + "\"><img src=\"" + data.image.url + "?sz=175\" /></a>");
  			$(".aboutMe").html(data.aboutMe);
  			$.each(data.organizations, function(index, organization) {
  				if(organization.type === "school") {
  					$(".school").append("<li>Degree: " + organization.title + "</li>");
  					$(".school").append("<li>School: " + organization.name + "</li>");
  				} else if(organization.type === "work") {
  					$(".work").append("<li>Position: " + organization.title + "</li>");
  					$(".work").append("<li>Company: " + organization.name + "</li>");
  				}
  			});*/
  		}, "jsonp");
  		
      $.get('https://www.googleapis.com/plus/v1/people/102147307918874735077/activities/public?alt=json&fields=items(address%2Cannotation%2Cobject(actor(displayName%2Cimage%2Curl)%2Cattachments%2Ccontent%2CobjectType%2CoriginalContent%2Cplusoners%2Creplies%2Cresharers%2Curl)%2CplaceId%2CplaceName%2Cplaceholder%2Cpublished%2Ctitle%2Cupdated%2Curl%2Cverb)%2CnextLink%2CnextPageToken&pp=1&key=AIzaSyB14Ua7k5_wusxHTQEH3sqmglO7MHjHPCI&alt=json', function(data){
        JSONSelect.forEach(".items > :nth-child(1n+1)", data, function(item) {
        	var source, template, html;
        	switch(JSONSelect.match(".verb", item)[0]) {
        		case "share":
        			source   = $("#reshare-template").html();
            	template = Handlebars.compile(source);
        		  break;
        		case "post":
        		  source   = $("#post-template").html();
        		  template = Handlebars.compile(source);
        		  break;
        		case "checkin":
        		  break;
        		default:
        			break;
        	}
        	if(template) {
        		html    = template(item);
          	$(".column1").append(html);
        	}
        });
  		}, "jsonp");
  		
  		$("a[rel=popover]").popover({
        offset: 10,
        live: true
      })
  	});  
  </script>


  <!-- Asynchronous Google Analytics snippet. Change UA-XXXXX-X to be your site's ID.
       mathiasbynens.be/notes/async-analytics-snippet -->
  <script>
    var _gaq=[['_setAccount','UA-19185160-5'],['_trackPageview'],['_trackPageLoadTime']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>

  <!-- Prompt IE 6 users to install Chrome Frame. Remove this if you want to support IE 6.
       chromium.org/developers/how-tos/chrome-frame-getting-started -->
  <!--[if lt IE 7 ]>
    <script defer src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
    <script defer>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
  <![endif]-->

  <!-- Templates! Brought to us by Handlebars.js - http://www.handlebarsjs.com/ -->
  <script id="reshare-template" type="text/x-handlebars-template">
    <div class="shared-container">
      <h4>{{safeString annotation}}</h4>
      <div class="shared-content">
      	<div class="authored-by">Reshared From <a href="{{object.actor.url}}">{{safeString object.actor.displayName}}</a></div>
      	<div class="original-content">{{safeString object.content}}</div>
      	<div class="attachment-content">
	      {{#each object.attachments}}
	  			{{#if this.displayName}}
	  				<a href="{{this.url}}" rel="popover" data-content="{{safeString this.content}}" title="Article Snippet:">
	  					{{this.displayName}}
	  				</a>
	  			{{/if}}
	      {{/each}}
	      </div>
      </div>
      <p><a class="btn" href="{{url}}">View Post &raquo;</a></p>
    </div>
  </script>
  
  <script id="post-template" type="text/x-handlebars-template">
    <div class="post-container">
      <div class="post-content">
      	<div>{{safeString object.content}}</div>
      </div>
      <p><a class="btn" href="{{url}}">View Post &raquo;</a></p>
    </div>
  </script>
  
  <script id="header-template" type="text/x-handlebars-template">
  	<h1 class="displayName">{{displayName}}</h1>
    <p class="tagline">{{tagline}}</p>
    <p><a class="btn primary large" href={{url}}>Find Me on Google+ &raquo;</a></p>
  </script>
  
  <script id="sidebar-template" type="text/x-handlebars-template">
  	<div class="well">
      <h5>About Me</h5>
      <ul>
        <li class="profileImage">
        	<img src="{{image.url}}?sz=175" />
        </li>
        <li class="aboutMe">
        	{{aboutMe}}
        </li>
      </ul>
      <h5>School</h5>
      <ul class="school">
      	{{#each organizations}}
      		{{school this}}
      	{{/each}}
      </ul>
      <h5>Work</h5>
      <ul class="work">
      	{{#each organizations}}
      		{{work this}}
      	{{/each}}      	
      </ul>
    </div>
  </script>
  
  <script id="school-template" type="text/x-handlebars-template">
  	<li>Degree: {{title}}</li>
  	<li>School: {{name}}</li>
  </script>
</body>
</html>
